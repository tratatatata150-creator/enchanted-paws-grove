/* ─── Fonts & Variables ───────────────────────────────────────────────────── */
:root {
  --font: 'Nunito', system-ui, sans-serif;

  /* Palette — Enchanted Forest */
  --bg:           #1a0e2e;
  --bg-secondary: #251540;
  --bg-card:      #2d1b4e;
  --bg-card-alt:  #3a2260;
  --border:       rgba(200,150,255,0.15);
  --border-glow:  rgba(200,150,255,0.4);

  --text:         #f0e8ff;
  --text-muted:   #a880d8;
  --text-accent:  #e879f9;

  --purple-1:     #7c3aed;
  --purple-2:     #a855f7;
  --purple-3:     #d946ef;
  --pink:         #ec4899;
  --gold:         #fbbf24;
  --green:        #34d399;
  --blue:         #60a5fa;
  --red:          #f87171;

  /* Glow helpers */
  --glow-purple:  0 0 20px rgba(168,85,247,0.6), 0 0 40px rgba(168,85,247,0.3);
  --glow-gold:    0 0 20px rgba(251,191,36,0.6), 0 0 40px rgba(251,191,36,0.3);
  --glow-pink:    0 0 20px rgba(236,72,153,0.6);

  /* Layout */
  --header-h:     64px;
  --nav-h:        72px;
  --radius:       16px;
  --radius-sm:    10px;
  --radius-lg:    24px;
}

/* Light theme (optional, Telegram might switch) */
[data-theme="light"] {
  --bg:           #f5f0ff;
  --bg-secondary: #ede8fb;
  --bg-card:      #fff;
  --bg-card-alt:  #f8f4ff;
  --border:       rgba(100,50,200,0.12);
  --text:         #1a0e2e;
  --text-muted:   #6d4c8e;
}

/* ─── Reset ───────────────────────────────────────────────────────────────── */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

html, body, #root {
  height: 100%;
  overflow: hidden;
}

body {
  font-family: var(--font);
  background: var(--bg);
  color: var(--text);
  -webkit-font-smoothing: antialiased;
  -webkit-tap-highlight-color: transparent;
  overscroll-behavior: none;
}

button { cursor: pointer; font-family: var(--font); border: none; outline: none; }
ul { list-style: none; }

/* ─── App Layout ──────────────────────────────────────────────────────────── */
.app-root {
  display: flex;
  flex-direction: column;
  height: 100dvh;
  overflow: hidden;
  background: radial-gradient(ellipse at top, #3a1a6e 0%, #1a0e2e 60%);
}

/* Stars background */
.app-root::before {
  content: '';
  position: fixed;
  inset: 0;
  background-image:
    radial-gradient(circle, rgba(255,255,255,0.8) 1px, transparent 1px),
    radial-gradient(circle, rgba(255,255,255,0.5) 1px, transparent 1px),
    radial-gradient(circle, rgba(255,255,255,0.3) 1px, transparent 1px);
  background-size: 100px 100px, 60px 60px, 40px 40px;
  background-position: 0 0, 30px 30px, 15px 15px;
  opacity: 0.25;
  pointer-events: none;
  z-index: 0;
}

.app-main {
  flex: 1;
  overflow-y: auto;
  overflow-x: hidden;
  position: relative;
  z-index: 1;
  -webkit-overflow-scrolling: touch;
}

/* ─── Header ──────────────────────────────────────────────────────────────── */
.app-header {
  height: var(--header-h);
  background: rgba(37,21,64,0.9);
  backdrop-filter: blur(12px);
  border-bottom: 1px solid var(--border);
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 16px;
  flex-shrink: 0;
  position: relative;
  z-index: 10;
}

.header-left { display: flex; align-items: center; gap: 10px; }
.avatar-wrap  { flex-shrink: 0; }

.avatar-img, .avatar-placeholder {
  width: 38px; height: 38px; border-radius: 50%;
  border: 2px solid var(--purple-2);
}
.avatar-placeholder {
  display: flex; align-items: center; justify-content: center;
  background: var(--purple-1); color: #fff; font-weight: 800; font-size: 16px;
}

.header-user { display: flex; flex-direction: column; gap: 3px; }
.header-name { font-size: 13px; font-weight: 700; color: var(--text); }

.xp-bar-wrap {
  position: relative;
  width: 120px; height: 8px;
  background: rgba(255,255,255,0.1);
  border-radius: 99px;
  overflow: hidden;
}
.xp-bar {
  position: absolute; left: 0; top: 0; bottom: 0;
  background: linear-gradient(90deg, var(--purple-2), var(--pink));
  border-radius: 99px;
  transition: width 0.5s ease;
}
.xp-label {
  position: absolute; inset: 0;
  display: flex; align-items: center; justify-content: center;
  font-size: 7px; font-weight: 800; color: #fff; letter-spacing: 0.5px;
}

.header-sub-badge { font-size: 24px; }

/* ─── Bottom Nav ──────────────────────────────────────────────────────────── */
.bottom-nav {
  height: var(--nav-h);
  background: rgba(37,21,64,0.95);
  backdrop-filter: blur(12px);
  border-top: 1px solid var(--border);
  display: flex;
  align-items: stretch;
  flex-shrink: 0;
  position: relative;
  z-index: 10;
}

.nav-tab {
  flex: 1;
  display: flex; flex-direction: column;
  align-items: center; justify-content: center;
  gap: 2px;
  background: transparent;
  color: var(--text-muted);
  transition: color 0.2s, transform 0.1s;
  padding-bottom: env(safe-area-inset-bottom, 0px);
}
.nav-tab:active { transform: scale(0.9); }
.nav-tab--active { color: var(--purple-3); }
.nav-tab--active .nav-emoji { filter: drop-shadow(0 0 6px var(--purple-3)); }

.nav-emoji { font-size: 22px; line-height: 1; }
.nav-label { font-size: 9px; font-weight: 700; letter-spacing: 0.3px; }

/* ─── Screens ─────────────────────────────────────────────────────────────── */
.screen-container {
  padding: 16px 16px 24px;
  display: flex; flex-direction: column; gap: 16px;
}

.screen-title {
  font-size: 20px; font-weight: 900;
  color: var(--text);
  text-align: center;
  text-shadow: 0 0 20px var(--purple-3);
}

.section-title {
  font-size: 16px; font-weight: 800; color: var(--text);
  margin-top: 8px;
}

.center-content {
  display: flex; align-items: center; justify-content: center;
  min-height: 200px;
}

/* ─── Game Board ──────────────────────────────────────────────────────────── */
.game-board-wrapper { padding: 12px 12px 24px; }

.resource-bar {
  display: flex; justify-content: center; gap: 12px;
  padding: 8px 16px; margin-bottom: 10px;
  background: rgba(255,255,255,0.05);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  backdrop-filter: blur(8px);
}
.resource-item {
  display: flex; align-items: center; gap: 4px;
  font-size: 13px; font-weight: 800; color: var(--text);
}
.resource-item span:first-child { font-size: 16px; }

.grove-title {
  text-align: center; font-size: 15px; font-weight: 800;
  color: var(--text-muted); margin-bottom: 10px;
}
.grove-hint {
  text-align: center; font-size: 11px; color: var(--text-muted);
  margin-top: 10px; line-height: 1.4;
}

/* ─── Merge Grid ──────────────────────────────────────────────────────────── */
.merge-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 6px;
}

.merge-grid--animating .grid-cell--selected {
  animation: merge-pulse 0.4s ease;
}

@keyframes merge-pulse {
  0%   { transform: scale(1);    opacity: 1; }
  50%  { transform: scale(1.3);  opacity: 0.8; }
  100% { transform: scale(0);    opacity: 0; }
}

/* ─── Grid Cell ───────────────────────────────────────────────────────────── */
.grid-cell {
  aspect-ratio: 1;
  border-radius: var(--radius-sm);
  border: 1px solid var(--border);
  background: rgba(255,255,255,0.04);
  display: flex; align-items: center; justify-content: center;
  cursor: pointer;
  position: relative;
  transition: transform 0.15s, border-color 0.15s, box-shadow 0.15s;
  user-select: none;
}

.grid-cell:active { transform: scale(0.92); }

.grid-cell--selected {
  border-color: var(--purple-3);
  box-shadow: 0 0 12px var(--purple-3), inset 0 0 12px rgba(217,70,239,0.2);
  animation: cell-selected-pulse 1s ease-in-out infinite;
}

@keyframes cell-selected-pulse {
  0%,100% { box-shadow: 0 0 12px var(--purple-3); }
  50%      { box-shadow: 0 0 24px var(--purple-3), 0 0 8px var(--pink); }
}

.grid-cell--ready {
  border-color: var(--gold);
  animation: cell-ready-glow 1.5s ease-in-out infinite;
}

@keyframes cell-ready-glow {
  0%,100% { box-shadow: 0 0 8px var(--gold); }
  50%      { box-shadow: 0 0 20px var(--gold), 0 0 40px rgba(251,191,36,0.3); }
}

.grid-cell--locked {
  opacity: 0.4; cursor: not-allowed;
  background: repeating-linear-gradient(
    45deg, transparent, transparent 4px,
    rgba(255,255,255,0.03) 4px, rgba(255,255,255,0.03) 8px
  );
}

.cell-lock { font-size: 18px; opacity: 0.6; }
.cell-empty { font-size: 18px; opacity: 0.2; font-weight: 300; }

/* ─── Creature in Cell ────────────────────────────────────────────────────── */
.creature-wrapper {
  display: flex; flex-direction: column;
  align-items: center; justify-content: center;
  gap: 2px; width: 100%; height: 100%;
  position: relative;
}

.creature-emoji {
  font-size: 28px; line-height: 1;
  filter: drop-shadow(0 0 6px var(--glow, var(--purple-2)));
  animation: creature-float 3s ease-in-out infinite;
}

@keyframes creature-float {
  0%,100% { transform: translateY(0px); }
  50%      { transform: translateY(-3px); }
}

.creature-level {
  font-size: 9px; font-weight: 900;
  color: rgba(255,255,255,0.9);
  background: rgba(0,0,0,0.4);
  border-radius: 99px; padding: 0 4px;
  line-height: 1.6;
}

.collect-bubble {
  position: absolute; top: 2px; right: 2px;
  width: 16px; height: 16px;
  background: var(--gold);
  color: #000; font-size: 11px; font-weight: 900;
  border-radius: 50%;
  display: flex; align-items: center; justify-content: center;
  animation: bubble-bounce 0.8s ease-in-out infinite;
}

@keyframes bubble-bounce {
  0%,100% { transform: translateY(0) scale(1); }
  50%      { transform: translateY(-4px) scale(1.1); }
}

.selected-ring {
  position: absolute; inset: -3px;
  border-radius: inherit;
  border: 2px solid var(--purple-3);
  animation: ring-spin 2s linear infinite;
  pointer-events: none;
}

@keyframes ring-spin {
  from { transform: rotate(0deg); }
  to   { transform: rotate(360deg); }
}

/* ─── Splash Screen ───────────────────────────────────────────────────────── */
.splash-screen {
  height: 100dvh; display: flex; flex-direction: column;
  align-items: center; justify-content: center; gap: 12px;
  background: radial-gradient(ellipse at center, #3a1a6e 0%, #1a0e2e 100%);
}

.splash-logo { font-size: 80px; animation: logo-pulse 2s ease-in-out infinite; }
@keyframes logo-pulse {
  0%,100% { filter: drop-shadow(0 0 20px #a855f7); }
  50%      { filter: drop-shadow(0 0 40px #d946ef) drop-shadow(0 0 80px #a855f7); }
}

.splash-title {
  font-size: 24px; font-weight: 900;
  color: var(--text);
  text-shadow: 0 0 20px var(--purple-3);
}
.splash-subtitle { font-size: 14px; color: var(--text-muted); }

.loader-dots { display: flex; gap: 8px; margin-top: 20px; }
.loader-dots span {
  width: 10px; height: 10px; border-radius: 50%;
  background: var(--purple-2);
  animation: dot-bounce 1.2s ease-in-out infinite;
}
.loader-dots span:nth-child(2) { animation-delay: 0.2s; }
.loader-dots span:nth-child(3) { animation-delay: 0.4s; }
@keyframes dot-bounce {
  0%,80%,100% { transform: scale(0.8); opacity: 0.5; }
  40%         { transform: scale(1.2); opacity: 1; }
}

/* ─── Error Screen ────────────────────────────────────────────────────────── */
.error-screen {
  height: 100dvh; display: flex; flex-direction: column;
  align-items: center; justify-content: center; gap: 16px;
  padding: 32px;
}
.error-emoji { font-size: 64px; }

/* ─── Spinner ─────────────────────────────────────────────────────────────── */
.spinner {
  width: 40px; height: 40px;
  border: 3px solid var(--border);
  border-top-color: var(--purple-2);
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}
@keyframes spin { to { transform: rotate(360deg); } }

/* ─── Buttons ─────────────────────────────────────────────────────────────── */
.btn {
  display: inline-flex; align-items: center; justify-content: center;
  gap: 6px; padding: 10px 18px;
  border-radius: var(--radius-sm); font-weight: 800; font-size: 13px;
  transition: transform 0.1s, box-shadow 0.1s;
  white-space: nowrap;
}
.btn:active { transform: scale(0.95); }

.btn--primary {
  background: linear-gradient(135deg, var(--purple-1), var(--purple-3));
  color: #fff; box-shadow: var(--glow-purple);
}
.btn--buy {
  background: linear-gradient(135deg, #065f46, #059669);
  color: #fff; box-shadow: 0 0 12px rgba(52,211,153,0.4);
}
.btn--stars {
  background: linear-gradient(135deg, #92400e, var(--gold));
  color: #1a0e2e; box-shadow: var(--glow-gold);
}
.btn--claim {
  background: linear-gradient(135deg, #1d4ed8, #3b82f6);
  color: #fff; font-size: 12px; padding: 8px 14px;
}
.btn--claimed {
  background: rgba(52,211,153,0.2);
  color: var(--green); font-size: 12px; padding: 8px 14px; cursor: default;
}
.btn--progress {
  background: rgba(255,255,255,0.08);
  color: var(--text-muted); font-size: 11px; padding: 8px 12px; cursor: default;
}
.btn--disabled { opacity: 0.5; cursor: not-allowed; }
.btn--full { width: 100%; }
.btn--xl { padding: 16px 32px; font-size: 16px; border-radius: var(--radius); }

/* ─── Tab Bar ─────────────────────────────────────────────────────────────── */
.tab-bar {
  display: flex; gap: 6px; overflow-x: auto;
  scrollbar-width: none; -webkit-overflow-scrolling: touch;
  padding-bottom: 2px;
}
.tab-bar::-webkit-scrollbar { display: none; }

.tab-btn {
  flex-shrink: 0; padding: 8px 14px;
  border-radius: 99px; font-size: 12px; font-weight: 700;
  background: rgba(255,255,255,0.06);
  color: var(--text-muted); border: 1px solid var(--border);
  transition: background 0.15s, color 0.15s;
}
.tab-btn--active {
  background: var(--purple-1); color: #fff;
  border-color: var(--purple-2); box-shadow: var(--glow-purple);
}

/* ─── Shop ────────────────────────────────────────────────────────────────── */
.shop-grid {
  display: grid; grid-template-columns: 1fr 1fr; gap: 12px;
}

.shop-card {
  background: var(--bg-card); border: 1px solid var(--border);
  border-radius: var(--radius); padding: 14px;
  display: flex; flex-direction: column; align-items: center;
  gap: 6px; text-align: center;
  transition: transform 0.15s, box-shadow 0.15s;
}
.shop-card:not(.shop-card--disabled):active { transform: scale(0.97); }
.shop-card--disabled { opacity: 0.6; }

.shop-card-emoji { font-size: 36px; }
.shop-card-name  { font-size: 12px; font-weight: 800; color: var(--text); }
.shop-card-desc  { font-size: 10px; color: var(--text-muted); line-height: 1.3; }

/* Subscription cards */
.subscription-card {
  background: var(--bg-card); border: 1px solid var(--border-glow);
  border-radius: var(--radius-lg); padding: 18px;
  display: flex; flex-direction: column; gap: 12px;
}
.sub-header { display: flex; align-items: center; gap: 12px; }
.sub-emoji   { font-size: 36px; }
.sub-name    { font-size: 16px; font-weight: 900; color: var(--text); }
.sub-price   { font-size: 13px; color: var(--gold); font-weight: 700; }
.sub-benefits { display: flex; flex-direction: column; gap: 4px; }
.sub-benefits li { font-size: 12px; color: var(--text-muted); }

/* ─── Quests ──────────────────────────────────────────────────────────────── */
.quest-reset-timer {
  text-align: center; font-size: 12px; color: var(--text-muted);
  background: rgba(255,255,255,0.05); border-radius: var(--radius-sm);
  padding: 8px; border: 1px solid var(--border);
}

.quest-list { display: flex; flex-direction: column; gap: 10px; }

.quest-card {
  background: var(--bg-card); border: 1px solid var(--border);
  border-radius: var(--radius); padding: 14px;
  display: flex; flex-direction: column; gap: 10px;
  transition: border-color 0.2s;
}
.quest-card--done    { border-color: var(--blue); }
.quest-card--claimed { border-color: var(--green); opacity: 0.7; }

.quest-top { display: flex; align-items: center; gap: 10px; justify-content: space-between; }
.quest-info { flex: 1; }
.quest-desc   { display: block; font-size: 13px; font-weight: 700; color: var(--text); }
.quest-reward { display: block; font-size: 11px; color: var(--gold); margin-top: 2px; }

.quest-progress-bar {
  height: 6px; background: rgba(255,255,255,0.1);
  border-radius: 99px; overflow: hidden;
}
.quest-progress-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--purple-2), var(--pink));
  border-radius: 99px; transition: width 0.5s ease;
}

/* ─── Achievements ────────────────────────────────────────────────────────── */
.achievement-list { display: flex; flex-direction: column; gap: 8px; }

.achievement-card {
  background: var(--bg-card); border: 1px solid var(--border);
  border-radius: var(--radius-sm); padding: 12px;
  display: flex; align-items: center; gap: 12px;
  opacity: 0.5; transition: opacity 0.2s;
}
.achievement-card--unlocked {
  opacity: 1; border-color: var(--gold);
  box-shadow: 0 0 10px rgba(251,191,36,0.2);
}

.achievement-emoji { font-size: 28px; }
.achievement-info  { flex: 1; }
.achievement-name  { font-size: 13px; font-weight: 800; color: var(--text); }
.achievement-desc  { font-size: 11px; color: var(--text-muted); margin-top: 2px; }
.achievement-check { font-size: 20px; color: var(--green); font-weight: 900; }

/* ─── Collection ──────────────────────────────────────────────────────────── */
.collection-count {
  text-align: center; font-size: 14px; color: var(--text-muted); font-weight: 700;
}

.family-section { display: flex; flex-direction: column; gap: 10px; }
.family-title   { font-size: 15px; font-weight: 800; color: var(--text); }

.collection-row {
  display: grid; grid-template-columns: repeat(5, 1fr); gap: 6px;
}

.collection-card {
  aspect-ratio: 0.8;
  border-radius: var(--radius-sm); border: 1px solid var(--border);
  display: flex; flex-direction: column; align-items: center; justify-content: center;
  gap: 3px; padding: 6px; text-align: center;
}
.collection-card--found {
  background: var(--bg, var(--bg-card));
  border-color: var(--glow, var(--border));
  box-shadow: 0 0 10px rgba(0,0,0,0.3);
}
.collection-card--locked {
  background: rgba(255,255,255,0.03);
  opacity: 0.5;
}

.cc-emoji          { font-size: 22px; }
.cc-emoji--locked  { opacity: 0.4; }
.cc-level          { font-size: 9px; font-weight: 900; color: var(--text-muted); }
.cc-name           { font-size: 8px; font-weight: 700; color: var(--text); line-height: 1.2; }
.cc-name--locked   { color: var(--text-muted); }
.cc-merged         { font-size: 8px; color: var(--gold); }

/* ─── Profile ─────────────────────────────────────────────────────────────── */
.profile-card {
  background: var(--bg-card); border: 1px solid var(--border-glow);
  border-radius: var(--radius-lg); padding: 20px;
  display: flex; align-items: center; gap: 16px;
  box-shadow: 0 4px 24px rgba(168,85,247,0.2);
}

.avatar-img-lg, .avatar-placeholder-lg {
  width: 64px; height: 64px; border-radius: 50%;
  border: 3px solid var(--purple-2);
}
.avatar-placeholder-lg {
  display: flex; align-items: center; justify-content: center;
  background: var(--purple-1); color: #fff; font-weight: 900; font-size: 28px;
}

.profile-info       { flex: 1; }
.profile-name       { font-size: 18px; font-weight: 900; color: var(--text); }
.profile-username   { font-size: 13px; color: var(--text-muted); }
.profile-level-badge {
  display: inline-block; margin-top: 6px;
  background: var(--purple-1); color: #fff;
  font-size: 11px; font-weight: 800; padding: 3px 10px; border-radius: 99px;
}

.xp-section { display: flex; flex-direction: column; gap: 4px; }
.xp-bar-full {
  height: 10px; background: rgba(255,255,255,0.1);
  border-radius: 99px; overflow: hidden;
}
.xp-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--purple-2), var(--pink));
  border-radius: 99px; transition: width 0.5s ease;
}
.xp-text { font-size: 11px; color: var(--text-muted); text-align: right; }

.stats-grid {
  display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px;
}
.stat-card {
  background: var(--bg-card); border: 1px solid var(--border);
  border-radius: var(--radius-sm); padding: 12px 8px;
  display: flex; flex-direction: column; align-items: center; gap: 4px;
}
.stat-emoji  { font-size: 22px; }
.stat-value  { font-size: 16px; font-weight: 900; color: var(--text); }
.stat-label  { font-size: 9px; color: var(--text-muted); font-weight: 700; text-align: center; }

.section-card {
  background: var(--bg-card); border: 1px solid var(--border);
  border-radius: var(--radius); padding: 16px;
  display: flex; flex-direction: column; gap: 10px;
}
.section-card-title { font-size: 15px; font-weight: 800; color: var(--text); }
.section-card-value { font-size: 16px; font-weight: 900; color: var(--purple-3); }
.section-card-sub   { font-size: 11px; color: var(--text-muted); }
.section-card-desc  { font-size: 12px; color: var(--text-muted); line-height: 1.5; }

.referral-code-box {
  background: rgba(255,255,255,0.05); border: 1px dashed var(--border-glow);
  border-radius: var(--radius-sm); padding: 12px;
  text-align: center;
}
.referral-code-text {
  font-size: 18px; font-weight: 900; letter-spacing: 2px;
  color: var(--purple-3); font-family: monospace;
}
.referral-count { font-size: 12px; color: var(--text-muted); text-align: center; }
.member-since   { font-size: 11px; color: var(--text-muted); text-align: center; }

/* ─── Empty State ─────────────────────────────────────────────────────────── */
.empty-state {
  text-align: center; padding: 40px 20px;
  display: flex; flex-direction: column; align-items: center; gap: 12px;
}
.empty-state span { font-size: 48px; }
.empty-state p { font-size: 14px; color: var(--text-muted); }

/* ─── Toast ───────────────────────────────────────────────────────────────── */
.toast-container {
  position: fixed; top: 80px; left: 50%; transform: translateX(-50%);
  z-index: 1000; pointer-events: none;
  animation: toast-in 0.3s ease;
}

@keyframes toast-in {
  from { opacity: 0; transform: translateX(-50%) translateY(-12px) scale(0.95); }
  to   { opacity: 1; transform: translateX(-50%) translateY(0) scale(1); }
}

.toast {
  background: rgba(45,27,78,0.95);
  border: 1px solid var(--border-glow);
  backdrop-filter: blur(12px);
  color: var(--text);
  padding: 10px 20px;
  border-radius: 99px;
  font-size: 13px; font-weight: 700;
  white-space: nowrap;
  box-shadow: 0 4px 20px rgba(168,85,247,0.3);
}

/* ─── Onboarding ──────────────────────────────────────────────────────────── */
.onboarding-overlay {
  position: fixed; inset: 0; z-index: 100;
  background: rgba(15,8,30,0.9); backdrop-filter: blur(8px);
  display: flex; align-items: center; justify-content: center;
  padding: 24px;
}

.onboarding-card {
  background: var(--bg-card); border: 1px solid var(--border-glow);
  border-radius: var(--radius-lg); padding: 28px;
  max-width: 380px; width: 100%;
  display: flex; flex-direction: column; align-items: center; gap: 16px;
  box-shadow: 0 8px 48px rgba(168,85,247,0.3);
}

.onboarding-illustration {
  position: relative; height: 80px;
  display: flex; align-items: center; justify-content: center;
  gap: 8px;
}
.ob-creature { font-size: 40px; animation: creature-float 2s ease-in-out infinite; }
.ob-creature--2 { animation-delay: 0.3s; font-size: 36px; }
.ob-creature--3 { animation-delay: 0.6s; font-size: 38px; }
.ob-sparkles {
  position: absolute; top: 0; left: 50%; transform: translateX(-50%);
  font-size: 14px; letter-spacing: 4px; opacity: 0.7;
  animation: sparkle 1.5s ease-in-out infinite;
}
@keyframes sparkle {
  0%,100% { opacity: 0.7; transform: translateX(-50%) scale(1); }
  50%      { opacity: 1; transform: translateX(-50%) scale(1.1); }
}

.ob-title { font-size: 20px; font-weight: 900; color: var(--text); text-align: center; }
.ob-desc  { font-size: 13px; color: var(--text-muted); text-align: center; line-height: 1.6; }

.ob-steps { display: flex; flex-direction: column; gap: 8px; width: 100%; }
.ob-step  { display: flex; align-items: center; gap: 10px; }
.ob-step-num {
  width: 24px; height: 24px; border-radius: 50%;
  background: var(--purple-1); color: #fff;
  display: flex; align-items: center; justify-content: center;
  font-size: 12px; font-weight: 900; flex-shrink: 0;
}
.ob-step span:last-child { font-size: 13px; color: var(--text-muted); }

/* ─── Responsive fine-tuning ──────────────────────────────────────────────── */
@media (max-width: 350px) {
  .merge-grid { grid-template-columns: repeat(4, 1fr); }
  .creature-emoji { font-size: 22px; }
}

@media (min-width: 480px) {
  .merge-grid { gap: 8px; }
  .creature-emoji { font-size: 32px; }
}
